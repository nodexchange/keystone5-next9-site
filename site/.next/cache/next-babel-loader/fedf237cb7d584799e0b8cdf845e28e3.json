{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\wojtalam\\\\Workspace\\\\Github\\\\arc-keystone5\\\\site\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\n/** @jsx jsx */\nimport { Query } from 'react-apollo';\nimport getConfig from 'next/config';\nimport { jsx } from '@emotion/core';\nimport Link from 'next/link';\nimport EventItems from '../components/EventItems';\nimport Navbar from '../components/Navbar';\nimport Footer from '../components/Footer';\nimport Meta from '../components/Meta';\nimport { GET_CURRENT_EVENTS } from '../graphql/events';\nimport { GET_EVENT_RSVPS } from '../graphql/rsvps';\nimport { GET_SPONSORS } from '../graphql/sponsors';\nimport Talks from '../components/Talks';\nimport Rsvp from '../components/Rsvp';\nimport { AvatarStack, Container, Error, Hero, Html, Loading, MicrophoneIcon, PinIcon, UserIcon } from '../primitives';\nimport { H2, H3 } from '../primitives/Typography';\nimport { colors, gridSize, fontSizes } from '../theme';\nimport { isInFuture, formatFutureDate, formatPastDate, getForegroundColor, pluralLabel } from '../helpers';\nimport { mq } from '../helpers/media';\nimport { Component } from 'react';\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig; // Featured Event\n\n\nvar FeaturedEvent = function FeaturedEvent(_ref) {\n  var isLoading = _ref.isLoading,\n      error = _ref.error,\n      event = _ref.event;\n\n  if (isLoading && !event) {\n    return jsx(Loading, {\n      isCentered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n  }\n\n  if (error) {\n    console.error('Failed to render the featured event', error);\n    return null;\n  }\n\n  if (!isLoading && !event) {\n    return null;\n  }\n\n  var description = event.description,\n      id = event.id,\n      locationAddress = event.locationAddress,\n      maxRsvps = event.maxRsvps,\n      name = event.name,\n      startTime = event.startTime,\n      talks = event.talks,\n      themeColor = event.themeColor;\n  var prettyDate = isInFuture(startTime) ? formatFutureDate(startTime) : formatPastDate(startTime);\n  var hex = themeColor ? themeColor.slice(1) : null;\n  return jsx(Container, {\n    css: {\n      margin: '-7rem auto 0',\n      position: 'relative'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: {\n      boxShadow: '0px 4px 94px rgba(0, 0, 0, 0.15)'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: {\n      backgroundColor: themeColor,\n      color: getForegroundColor(themeColor),\n      display: 'block',\n      padding: '2rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: mq({\n      display: 'flex',\n      flexDirection: ['column', 'row']\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: {\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, jsx(\"p\", {\n    css: {\n      textTransform: 'uppercase',\n      marginTop: 0,\n      fontWeight: 500,\n      marginBottom: gridSize\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, prettyDate), jsx(Link, {\n    href: \"/event/[id]?hex=\".concat(hex),\n    as: \"/event/\".concat(id, \"?hex=\").concat(hex),\n    passHref: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, jsx(\"a\", {\n    css: {\n      color: 'inherit',\n      textDecoration: 'none',\n      ':hover': {\n        textDecoration: 'underline'\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, jsx(H3, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, name)))), jsx(\"p\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      fontWeight: 300\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, jsx(PinIcon, {\n    css: {\n      marginRight: '0.5em'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), locationAddress)), jsx(Html, {\n    markup: description,\n    css: mq({\n      flex: 1,\n      padding: [0, '0 2rem'],\n      p: {\n        '&:first-of-type': {\n          marginTop: 0\n        },\n        '&:last-of-type': {\n          marginBottom: 0\n        }\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }))), jsx(\"div\", {\n    css: {\n      padding: '1.5rem',\n      background: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: mq({\n      alignItems: 'center',\n      display: 'flex',\n      flexDirection: ['column', 'row'],\n      justifyContent: 'space-between'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, jsx(Rsvp, {\n    event: event,\n    themeColor: themeColor,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, function (_ref2) {\n    var message = _ref2.message,\n        component = _ref2.component;\n    return component || message;\n  }), jsx(\"div\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      flex: 1,\n      justifyContent: 'flex-end'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      fontWeight: 300,\n      padding: '0 1rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, jsx(MicrophoneIcon, {\n    color: \"#ccc\",\n    css: {\n      marginRight: '0.5em'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), pluralLabel(talks.length, 'talk', 'talks')), jsx(Query, {\n    query: GET_EVENT_RSVPS,\n    variables: {\n      event: id\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, function (_ref3) {\n    var data = _ref3.data,\n        loading = _ref3.loading,\n        error = _ref3.error;\n    if (loading && !data) return jsx(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    });\n    if (error) return jsx(Error, {\n      error: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    });\n    var allRsvps = data.allRsvps;\n    if (!allRsvps) return null;\n    var attending = \"\".concat(allRsvps.length).concat(maxRsvps ? \"/\".concat(maxRsvps) : '');\n    return jsx(React.Fragment, null, jsx(\"div\", {\n      css: {\n        alignItems: 'center',\n        display: 'flex',\n        fontWeight: 300,\n        padding: '0 1rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, jsx(UserIcon, {\n      color: \"#ccc\",\n      css: {\n        marginRight: '0.5em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), attending, \" \", isInFuture(startTime) ? 'attending' : 'attended'), jsx(AvatarStack, {\n      users: allRsvps.filter(function (rsvp) {\n        return rsvp.user;\n      }).map(function (rsvp) {\n        return rsvp.user;\n      }),\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }));\n  }))))));\n};\n\nvar Sponsors = function Sponsors() {\n  return jsx(Container, {\n    css: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, jsx(H3, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Our sponsors\"), jsx(Query, {\n    query: GET_SPONSORS,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, function (_ref4) {\n    var data = _ref4.data,\n        loading = _ref4.loading,\n        error = _ref4.error;\n    if (loading) return jsx(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    });\n    if (error) return jsx(Error, {\n      error: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    });\n    var allSponsors = data.allSponsors;\n    return jsx(\"ul\", {\n      css: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        listStyle: 'none',\n        padding: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, allSponsors.map(function (sponsor) {\n      return jsx(\"li\", {\n        key: sponsor.id,\n        css: {\n          flex: 1,\n          margin: 12\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, jsx(\"a\", {\n        href: sponsor.website,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, sponsor.logo ? jsx(\"img\", {\n        alt: sponsor.name,\n        css: {\n          maxWidth: '100%',\n          maxHeight: 140\n        },\n        src: sponsor.logo.publicUrl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }) : sponsor.name));\n    }));\n  }));\n};\n\nfunction processEventsData(data) {\n  if (!data || !data.upcomingEvents || !data.previousEvents) {\n    return {\n      featuredEvent: null,\n      moreEvents: []\n    };\n  }\n\n  var upcomingEvents = data.upcomingEvents.slice();\n  var previousEvents = data.previousEvents.slice();\n  var featuredEvent = upcomingEvents.length ? upcomingEvents.pop() : previousEvents.pop() || null;\n  var moreEvents = [];\n\n  for (var i = 0; i < 3; i++) {\n    if (upcomingEvents.length) {\n      moreEvents.push(upcomingEvents.pop());\n    } else if (previousEvents.length) {\n      moreEvents.push(previousEvents.pop());\n    }\n  }\n\n  return {\n    featuredEvent: featuredEvent,\n    moreEvents: moreEvents\n  };\n}\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    _classCallCheck(this, Home);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Home).apply(this, arguments));\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var now = this.props.now;\n      var meetup = publicRuntimeConfig.meetup;\n      return jsx(Query, {\n        query: GET_CURRENT_EVENTS,\n        variables: {\n          now: now\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, function (_ref5) {\n        var eventsData = _ref5.data,\n            eventsLoading = _ref5.loading,\n            eventsError = _ref5.error;\n\n        var _processEventsData = processEventsData(eventsData),\n            featuredEvent = _processEventsData.featuredEvent,\n            moreEvents = _processEventsData.moreEvents;\n\n        return jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, jsx(Meta, {\n          titleExclusive: meetup.name,\n          description: meetup.intro,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }), jsx(Navbar, {\n          background: colors.greyDark,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }), jsx(Hero, {\n          title: meetup.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, jsx(Html, {\n          markup: meetup.homeIntro,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        })), jsx(FeaturedEvent, {\n          isLoading: eventsLoading,\n          error: eventsError,\n          event: featuredEvent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283\n          },\n          __self: this\n        }), jsx(Container, {\n          css: {\n            marginTop: '3rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          },\n          __self: this\n        }, featuredEvent && featuredEvent.talks ? jsx(Talks, {\n          talks: featuredEvent.talks,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }) : null), jsx(Section, {\n          css: {\n            padding: '3rem 0'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, jsx(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, jsx(Sponsors, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }))), moreEvents.length ? jsx(React.Fragment, null, jsx(Section, {\n          css: {\n            backgroundColor: colors.greyLight,\n            margin: '5rem 0',\n            paddingTop: '5rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }, jsx(Slant, {\n          placement: \"top\",\n          fill: colors.greyLight,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303\n          },\n          __self: this\n        }), jsx(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }, jsx(H2, {\n          hasSeparator: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          },\n          __self: this\n        }, \"More Meetups\"), jsx(EventItems, {\n          events: moreEvents,\n          offsetTop: true,\n          css: {\n            marginTop: '3rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        }), jsx(Link, {\n          href: \"/events\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          },\n          __self: this\n        }, jsx(\"a\", {\n          css: {\n            color: 'black',\n            cursor: 'pointer',\n            fontSize: fontSizes.md,\n            marginTop: '1rem',\n            ':hover > span': {\n              textDecoration: 'underline'\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          },\n          __self: this\n        }, jsx(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320\n          },\n          __self: this\n        }, \"View all\"), \" \\u2192\"))), jsx(Slant, {\n          placement: \"bottom\",\n          fill: colors.greyLight,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324\n          },\n          __self: this\n        }))) : null, jsx(Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        }));\n      });\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      return {\n        now: new Date().toISOString()\n      };\n    }\n  }]);\n\n  return Home;\n}(Component); // styled components\n\n\nexport { Home as default };\n\nvar Section = function Section(props) {\n  return jsx(\"section\", _extends({\n    css: {\n      position: 'relative'\n    }\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340\n    },\n    __self: this\n  }));\n};\n\nvar Slant = function Slant(_ref6) {\n  var fill = _ref6.fill,\n      _ref6$height = _ref6.height,\n      height = _ref6$height === void 0 ? 5 : _ref6$height,\n      placement = _ref6.placement;\n  var points = placement === 'bottom' ? '0, 100 0, 0 100, 0' : '0 100, 100 0, 100, 100';\n  return jsx(\"svg\", {\n    css: _defineProperty({\n      height: \"\".concat(height, \"vw\"),\n      width: '100vw',\n      display: 'block',\n      position: 'absolute'\n    }, placement, \"-\".concat(height, \"vw\")),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351\n    },\n    __self: this\n  }, jsx(\"polygon\", {\n    fill: fill,\n    points: points,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["C:/Users/wojtalam/Workspace/Github/arc-keystone5/site/pages/index.js"],"names":["Query","getConfig","jsx","Link","EventItems","Navbar","Footer","Meta","GET_CURRENT_EVENTS","GET_EVENT_RSVPS","GET_SPONSORS","Talks","Rsvp","AvatarStack","Container","Error","Hero","Html","Loading","MicrophoneIcon","PinIcon","UserIcon","H2","H3","colors","gridSize","fontSizes","isInFuture","formatFutureDate","formatPastDate","getForegroundColor","pluralLabel","mq","Component","publicRuntimeConfig","FeaturedEvent","isLoading","error","event","console","description","id","locationAddress","maxRsvps","name","startTime","talks","themeColor","prettyDate","hex","slice","margin","position","boxShadow","backgroundColor","color","display","padding","flexDirection","flex","justifyContent","textTransform","marginTop","fontWeight","marginBottom","textDecoration","alignItems","marginRight","p","background","message","component","length","data","loading","allRsvps","attending","filter","rsvp","user","map","Sponsors","textAlign","allSponsors","listStyle","sponsor","website","logo","maxWidth","maxHeight","publicUrl","processEventsData","upcomingEvents","previousEvents","featuredEvent","moreEvents","pop","i","push","Home","now","props","meetup","eventsData","eventsLoading","eventsError","intro","greyDark","homeIntro","greyLight","paddingTop","cursor","fontSize","md","Date","toISOString","Section","Slant","fill","height","placement","points","width"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport { Query } from 'react-apollo';\nimport getConfig from 'next/config';\nimport { jsx } from '@emotion/core';\n\nimport Link from 'next/link';\nimport EventItems from '../components/EventItems';\nimport Navbar from '../components/Navbar';\nimport Footer from '../components/Footer';\nimport Meta from '../components/Meta';\nimport { GET_CURRENT_EVENTS } from '../graphql/events';\nimport { GET_EVENT_RSVPS } from '../graphql/rsvps';\nimport { GET_SPONSORS } from '../graphql/sponsors';\n\nimport Talks from '../components/Talks';\nimport Rsvp from '../components/Rsvp';\nimport {\n  AvatarStack,\n  Container,\n  Error,\n  Hero,\n  Html,\n  Loading,\n  MicrophoneIcon,\n  PinIcon,\n  UserIcon,\n} from '../primitives';\nimport { H2, H3 } from '../primitives/Typography';\nimport { colors, gridSize, fontSizes } from '../theme';\nimport {\n  isInFuture,\n  formatFutureDate,\n  formatPastDate,\n  getForegroundColor,\n  pluralLabel,\n} from '../helpers';\nimport { mq } from '../helpers/media';\nimport { Component } from 'react';\n\nconst { publicRuntimeConfig } = getConfig();\n\n// Featured Event\nconst FeaturedEvent = ({ isLoading, error, event }) => {\n  if (isLoading && !event) {\n    return <Loading isCentered />;\n  }\n  if (error) {\n    console.error('Failed to render the featured event', error);\n    return null;\n  }\n  if (!isLoading && !event) {\n    return null;\n  }\n\n  const { description, id, locationAddress, maxRsvps, name, startTime, talks, themeColor } = event;\n  const prettyDate = isInFuture(startTime)\n    ? formatFutureDate(startTime)\n    : formatPastDate(startTime);\n\n  const hex = themeColor ? themeColor.slice(1) : null;\n\n  return (\n    <Container css={{ margin: '-7rem auto 0', position: 'relative' }}>\n      <div css={{ boxShadow: '0px 4px 94px rgba(0, 0, 0, 0.15)' }}>\n        <div\n          css={{\n            backgroundColor: themeColor,\n            color: getForegroundColor(themeColor),\n            display: 'block',\n            padding: '2rem',\n          }}\n        >\n          <div css={mq({ display: 'flex', flexDirection: ['column', 'row'] })}>\n            <div\n              css={{\n                flex: 1,\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'space-between',\n              }}\n            >\n              <div>\n                <p\n                  css={{\n                    textTransform: 'uppercase',\n                    marginTop: 0,\n                    fontWeight: 500,\n                    marginBottom: gridSize,\n                  }}\n                >\n                  {prettyDate}\n                </p>\n                <Link href={`/event/[id]?hex=${hex}`} as={`/event/${id}?hex=${hex}`} passHref>\n                  <a\n                    css={{\n                      color: 'inherit',\n                      textDecoration: 'none',\n                      ':hover': { textDecoration: 'underline' },\n                    }}\n                  >\n                    <H3>{name}</H3>\n                  </a>\n                </Link>\n              </div>\n              <p css={{ alignItems: 'center', display: 'flex', fontWeight: 300 }}>\n                <PinIcon css={{ marginRight: '0.5em' }} />\n                {locationAddress}\n              </p>\n            </div>\n            <Html\n              markup={description}\n              css={mq({\n                flex: 1,\n                padding: [0, '0 2rem'],\n\n                p: {\n                  '&:first-of-type': { marginTop: 0 },\n                  '&:last-of-type': { marginBottom: 0 },\n                },\n              })}\n            />\n          </div>\n        </div>\n        <div css={{ padding: '1.5rem', background: 'white' }}>\n          <div\n            css={mq({\n              alignItems: 'center',\n              display: 'flex',\n              flexDirection: ['column', 'row'],\n              justifyContent: 'space-between',\n            })}\n          >\n            <Rsvp event={event} themeColor={themeColor}>\n              {({ message, component }) => component || message}\n            </Rsvp>\n            <div\n              css={{\n                alignItems: 'center',\n                display: 'flex',\n                flex: 1,\n                justifyContent: 'flex-end',\n              }}\n            >\n              <div\n                css={{ alignItems: 'center', display: 'flex', fontWeight: 300, padding: '0 1rem' }}\n              >\n                <MicrophoneIcon color=\"#ccc\" css={{ marginRight: '0.5em' }} />\n                {pluralLabel(talks.length, 'talk', 'talks')}\n              </div>\n              <Query query={GET_EVENT_RSVPS} variables={{ event: id }}>\n                {({ data, loading, error }) => {\n                  if (loading && !data) return <Loading />;\n                  if (error) return <Error error={error} />;\n\n                  const { allRsvps } = data;\n\n                  if (!allRsvps) return null;\n\n                  const attending = `${allRsvps.length}${maxRsvps ? `/${maxRsvps}` : ''}`;\n\n                  return (\n                    <>\n                      <div\n                        css={{\n                          alignItems: 'center',\n                          display: 'flex',\n                          fontWeight: 300,\n                          padding: '0 1rem',\n                        }}\n                      >\n                        <UserIcon color=\"#ccc\" css={{ marginRight: '0.5em' }} />\n                        {attending} {isInFuture(startTime) ? 'attending' : 'attended'}\n                      </div>\n                      <AvatarStack\n                        users={allRsvps.filter(rsvp => rsvp.user).map(rsvp => rsvp.user)}\n                        size=\"small\"\n                      />\n                    </>\n                  );\n                }}\n              </Query>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nconst Sponsors = () => {\n  return (\n    <Container css={{ textAlign: 'center' }}>\n      <H3>Our sponsors</H3>\n      <Query query={GET_SPONSORS}>\n        {({ data, loading, error }) => {\n          if (loading) return <Loading />;\n          if (error) return <Error error={error} />;\n\n          const { allSponsors } = data;\n          return (\n            <ul\n              css={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                listStyle: 'none',\n                padding: 0,\n              }}\n            >\n              {allSponsors.map(sponsor => (\n                <li key={sponsor.id} css={{ flex: 1, margin: 12 }}>\n                  <a href={sponsor.website} target=\"_blank\">\n                    {sponsor.logo ? (\n                      <img\n                        alt={sponsor.name}\n                        css={{ maxWidth: '100%', maxHeight: 140 }}\n                        src={sponsor.logo.publicUrl}\n                      />\n                    ) : (\n                      sponsor.name\n                    )}\n                  </a>\n                </li>\n              ))}\n            </ul>\n          );\n        }}\n      </Query>\n    </Container>\n  );\n};\n\nfunction processEventsData(data) {\n  if (!data || !data.upcomingEvents || !data.previousEvents) {\n    return {\n      featuredEvent: null,\n      moreEvents: [],\n    };\n  }\n\n  const upcomingEvents = data.upcomingEvents.slice();\n  const previousEvents = data.previousEvents.slice();\n\n  const featuredEvent = upcomingEvents.length ? upcomingEvents.pop() : previousEvents.pop() || null;\n  const moreEvents = [];\n\n  for (let i = 0; i < 3; i++) {\n    if (upcomingEvents.length) {\n      moreEvents.push(upcomingEvents.pop());\n    } else if (previousEvents.length) {\n      moreEvents.push(previousEvents.pop());\n    }\n  }\n\n  return {\n    featuredEvent,\n    moreEvents,\n  };\n}\n\nexport default class Home extends Component {\n  static getInitialProps() {\n    return {\n      now: new Date().toISOString(),\n    };\n  }\n\n  render() {\n    const now = this.props.now;\n    const { meetup } = publicRuntimeConfig;\n\n    return (\n      <Query query={GET_CURRENT_EVENTS} variables={{ now }}>\n        {({ data: eventsData, loading: eventsLoading, error: eventsError }) => {\n          const { featuredEvent, moreEvents } = processEventsData(eventsData);\n          return (\n            <div>\n              <Meta titleExclusive={meetup.name} description={meetup.intro} />\n              <Navbar background={colors.greyDark} />\n              <Hero title={meetup.name}>\n                <Html markup={meetup.homeIntro} />\n              </Hero>\n              <FeaturedEvent isLoading={eventsLoading} error={eventsError} event={featuredEvent} />\n              <Container css={{ marginTop: '3rem' }}>\n                {featuredEvent && featuredEvent.talks ? (\n                  <Talks talks={featuredEvent.talks} />\n                ) : null}\n              </Container>\n              <Section css={{ padding: '3rem 0' }}>\n                <Container>\n                  <Sponsors />\n                </Container>\n              </Section>\n              {moreEvents.length ? (\n                <>\n                  <Section\n                    css={{\n                      backgroundColor: colors.greyLight,\n                      margin: '5rem 0',\n                      paddingTop: '5rem',\n                    }}\n                  >\n                    <Slant placement=\"top\" fill={colors.greyLight} />\n                    <Container>\n                      <H2 hasSeparator>More Meetups</H2>\n                      <EventItems events={moreEvents} offsetTop css={{ marginTop: '3rem' }} />\n                      <Link href=\"/events\">\n                        <a\n                          css={{\n                            color: 'black',\n                            cursor: 'pointer',\n                            fontSize: fontSizes.md,\n                            marginTop: '1rem',\n\n                            ':hover > span': {\n                              textDecoration: 'underline',\n                            },\n                          }}\n                        >\n                          <span>View all</span> &rarr;\n                        </a>\n                      </Link>\n                    </Container>\n                    <Slant placement=\"bottom\" fill={colors.greyLight} />\n                  </Section>\n                </>\n              ) : null}\n              <Footer />\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n\n// styled components\n\nconst Section = props => (\n  <section\n    css={{\n      position: 'relative',\n    }}\n    {...props}\n  />\n);\nconst Slant = ({ fill, height = 5, placement }) => {\n  const points = placement === 'bottom' ? '0, 100 0, 0 100, 0' : '0 100, 100 0, 100, 100';\n\n  return (\n    <svg\n      css={{\n        height: `${height}vw`,\n        width: '100vw',\n        display: 'block',\n        position: 'absolute',\n        [placement]: `-${height}vw`,\n      }}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 100 100\"\n      preserveAspectRatio=\"none\"\n    >\n      <polygon fill={fill} points={points} />\n    </svg>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}
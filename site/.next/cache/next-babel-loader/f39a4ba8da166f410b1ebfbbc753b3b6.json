{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wojtalam\\\\Workspace\\\\Github\\\\arc-keystone5\\\\site\\\\components\\\\auth\\\\modal.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\n/** @jsx jsx */\nimport { useEffect, useState } from 'react';\nimport { jsx } from '@emotion/core';\nimport Signin from '../../components/auth/signin';\nimport Signup from '../../components/auth/signup';\nimport ForgotPassword from '../../components/auth/forgotPassword';\nimport { Modal } from '../Modal';\nvar views = {\n  signin: {\n    content: Signin,\n    title: 'Signin'\n  },\n  signup: {\n    content: Signup,\n    title: 'Join'\n  },\n  forgot: {\n    content: ForgotPassword,\n    title: 'Forgot Password'\n  }\n};\n\nvar AuthModal = function AuthModal(_ref) {\n  var children = _ref.children,\n      initialMode = _ref.mode;\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(initialMode),\n      mode = _useState2[0],\n      setMode = _useState2[1]; // helpers\n\n\n  var closeModal = function closeModal(event) {\n    if (event) {\n      event.preventDefault();\n    }\n\n    setOpen(false);\n  };\n\n  var openModal = function openModal(event) {\n    if (event) {\n      event.preventDefault();\n    }\n\n    setOpen(true);\n  };\n\n  var onClickForgot = function onClickForgot(event) {\n    event.preventDefault();\n    setMode('forgot');\n  };\n\n  var onClickSignin = function onClickSignin(event) {\n    event.preventDefault();\n    setMode('signin');\n  }; // reset the mode on \"unmount\"\n\n\n  useEffect(function () {\n    setMode(initialMode);\n  }, [isOpen]);\n  var view = views[mode];\n  var Content = view.content;\n  return jsx(React.Fragment, null, children({\n    openModal: openModal\n  }), jsx(Modal, {\n    title: view.title,\n    isOpen: isOpen,\n    onClose: closeModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, jsx(Content, {\n    onClickForgot: onClickForgot,\n    onClickSignin: onClickSignin,\n    renderContext: \"modal\",\n    onSuccess: closeModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })));\n};\n\nexport default AuthModal;","map":{"version":3,"sources":["C:/Users/wojtalam/Workspace/Github/arc-keystone5/site/components/auth/modal.js"],"names":["useEffect","useState","jsx","Signin","Signup","ForgotPassword","Modal","views","signin","content","title","signup","forgot","AuthModal","children","initialMode","mode","isOpen","setOpen","setMode","closeModal","event","preventDefault","openModal","onClickForgot","onClickSignin","view","Content"],"mappings":";;;;AAAA;AAEA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,GAAT,QAAoB,eAApB;AAEA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,SAASC,KAAT,QAAsB,UAAtB;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,MAAM,EAAE;AACNC,IAAAA,OAAO,EAAEN,MADH;AAENO,IAAAA,KAAK,EAAE;AAFD,GADI;AAKZC,EAAAA,MAAM,EAAE;AACNF,IAAAA,OAAO,EAAEL,MADH;AAENM,IAAAA,KAAK,EAAE;AAFD,GALI;AASZE,EAAAA,MAAM,EAAE;AACNH,IAAAA,OAAO,EAAEJ,cADH;AAENK,IAAAA,KAAK,EAAE;AAFD;AATI,CAAd;;AAeA,IAAMG,SAAS,GAAG,SAAZA,SAAY,OAAqC;AAAA,MAAlCC,QAAkC,QAAlCA,QAAkC;AAAA,MAAlBC,WAAkB,QAAxBC,IAAwB;;AAAA,kBAC3Bf,QAAQ,CAAC,KAAD,CADmB;AAAA,MAC9CgB,MAD8C;AAAA,MACtCC,OADsC;;AAAA,mBAE7BjB,QAAQ,CAACc,WAAD,CAFqB;AAAA,MAE9CC,IAF8C;AAAA,MAExCG,OAFwC,kBAIrD;;;AACA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,KAAK,EAAI;AAC1B,QAAIA,KAAJ,EAAW;AACTA,MAAAA,KAAK,CAACC,cAAN;AACD;;AACDJ,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GALD;;AAMA,MAAMK,SAAS,GAAG,SAAZA,SAAY,CAAAF,KAAK,EAAI;AACzB,QAAIA,KAAJ,EAAW;AACTA,MAAAA,KAAK,CAACC,cAAN;AACD;;AACDJ,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GALD;;AAOA,MAAMM,aAAa,GAAG,SAAhBA,aAAgB,CAAAH,KAAK,EAAI;AAC7BA,IAAAA,KAAK,CAACC,cAAN;AACAH,IAAAA,OAAO,CAAC,QAAD,CAAP;AACD,GAHD;;AAIA,MAAMM,aAAa,GAAG,SAAhBA,aAAgB,CAAAJ,KAAK,EAAI;AAC7BA,IAAAA,KAAK,CAACC,cAAN;AACAH,IAAAA,OAAO,CAAC,QAAD,CAAP;AACD,GAHD,CAtBqD,CA2BrD;;;AACAnB,EAAAA,SAAS,CAAC,YAAM;AACdmB,IAAAA,OAAO,CAACJ,WAAD,CAAP;AACD,GAFQ,EAEN,CAACE,MAAD,CAFM,CAAT;AAIA,MAAMS,IAAI,GAAGnB,KAAK,CAACS,IAAD,CAAlB;AACA,MAAMW,OAAO,GAAGD,IAAI,CAACjB,OAArB;AAEA,SACE,0BACGK,QAAQ,CAAC;AAAES,IAAAA,SAAS,EAATA;AAAF,GAAD,CADX,EAEE,IAAC,KAAD;AAAO,IAAA,KAAK,EAAEG,IAAI,CAAChB,KAAnB;AAA0B,IAAA,MAAM,EAAEO,MAAlC;AAA0C,IAAA,OAAO,EAAEG,UAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,IAAC,OAAD;AACE,IAAA,aAAa,EAAEI,aADjB;AAEE,IAAA,aAAa,EAAEC,aAFjB;AAGE,IAAA,aAAa,EAAC,OAHhB;AAIE,IAAA,SAAS,EAAEL,UAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF;AAaD,CAhDD;;AAkDA,eAAeP,SAAf","sourcesContent":["/** @jsx jsx */\n\nimport { useEffect, useState } from 'react';\nimport { jsx } from '@emotion/core';\n\nimport Signin from '../../components/auth/signin';\nimport Signup from '../../components/auth/signup';\nimport ForgotPassword from '../../components/auth/forgotPassword';\nimport { Modal } from '../Modal';\n\nconst views = {\n  signin: {\n    content: Signin,\n    title: 'Signin',\n  },\n  signup: {\n    content: Signup,\n    title: 'Join',\n  },\n  forgot: {\n    content: ForgotPassword,\n    title: 'Forgot Password',\n  },\n};\n\nconst AuthModal = ({ children, mode: initialMode }) => {\n  const [isOpen, setOpen] = useState(false);\n  const [mode, setMode] = useState(initialMode);\n\n  // helpers\n  const closeModal = event => {\n    if (event) {\n      event.preventDefault();\n    }\n    setOpen(false);\n  };\n  const openModal = event => {\n    if (event) {\n      event.preventDefault();\n    }\n    setOpen(true);\n  };\n\n  const onClickForgot = event => {\n    event.preventDefault();\n    setMode('forgot');\n  };\n  const onClickSignin = event => {\n    event.preventDefault();\n    setMode('signin');\n  };\n\n  // reset the mode on \"unmount\"\n  useEffect(() => {\n    setMode(initialMode);\n  }, [isOpen]);\n\n  const view = views[mode];\n  const Content = view.content;\n\n  return (\n    <>\n      {children({ openModal })}\n      <Modal title={view.title} isOpen={isOpen} onClose={closeModal}>\n        <Content\n          onClickForgot={onClickForgot}\n          onClickSignin={onClickSignin}\n          renderContext=\"modal\"\n          onSuccess={closeModal}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default AuthModal;\n"]},"metadata":{},"sourceType":"module"}
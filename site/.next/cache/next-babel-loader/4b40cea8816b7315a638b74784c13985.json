{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"C:\\\\Users\\\\wojtalam\\\\Workspace\\\\Github\\\\arc-keystone5\\\\site\\\\components\\\\Modal.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\n/** @jsx jsx */\nimport { createPortal } from 'react-dom';\nimport { jsx } from '@emotion/core';\nimport { useKeydown, useLogoDimension } from '../helpers';\nimport { mq } from '../helpers/media';\nimport { XIcon } from '../primitives';\nimport { HEADER_GUTTER } from './Navbar';\nimport { colors, fontSizes } from '../theme'; // ==============================\n// Exports\n// ==============================\n\nexport const Modal = props => {\n  if (!canUseDOM) return null; // the modal element component is separated so the keydown handler attaches\n  // and detaches during mount and unmount respectively.\n\n  return props.isOpen ? createPortal(jsx(ModalElement, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  })), document.body) : null;\n};\n\nconst ModalElement = props => {\n  const {\n    children,\n    onClose,\n    title\n  } = props;\n  useKeydown('Escape', onClose);\n  return jsx(React.Fragment, null, jsx(Blanket, {\n    onClick: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }), jsx(Dialog, {\n    ariaLabel: title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, jsx(Close, {\n    onClick: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), jsx(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, title), children));\n}; // ==============================\n// Helpers\n// ==============================\n\n\nconst canUseDOM = !!(false && window.document && window.document.createElement); // ==============================\n// Styled Components\n// ==============================\n\nconst Dialog = (_ref) => {\n  let {\n    ariaLabel\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"ariaLabel\"]);\n\n  const {\n    logoHeight,\n    logoHeightSm\n  } = useLogoDimension();\n  const offsetTop = [logoHeightSm, logoHeight];\n  const offsetRight = HEADER_GUTTER;\n  return jsx(\"div\", _extends({\n    \"aria-label\": ariaLabel,\n    role: \"dialog\",\n    tabIndex: \"-1\",\n    css: mq({\n      boxShadow: 'rgba(9, 30, 66, 0.08) 0px 0px 0px 1px, rgba(9, 30, 66, 0.08) 0px 2px 1px, rgba(9, 30, 66, 0.31) 0px 0px 20px -6px',\n      boxSizing: 'border-box',\n      right: offsetRight,\n      top: offsetTop,\n      background: 'white',\n      borderRadius: 4,\n      maxWidth: '92vw',\n      padding: 24,\n      position: 'absolute',\n      zIndex: 20,\n      width: 420\n    })\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }));\n};\n\nconst Blanket = (_ref2) => {\n  let {\n    ariaLabel\n  } = _ref2,\n      props = _objectWithoutProperties(_ref2, [\"ariaLabel\"]);\n\n  return jsx(\"div\", _extends({\n    css: {\n      bottom: 0,\n      left: 0,\n      position: 'fixed',\n      right: 0,\n      top: 0,\n      zIndex: 10\n    }\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }));\n};\n\nconst Close = props => jsx(\"button\", _extends({\n  css: {\n    background: 0,\n    border: 0,\n    borderRadius: 2,\n    color: colors.greyMedium,\n    cursor: 'pointer',\n    float: 'right',\n    height: 32,\n    lineHeight: 0,\n    padding: 0,\n    transition: 'background-color 150ms, color 150ms',\n    verticalAlign: 'top',\n    width: 32,\n    ':hover, :focus': {\n      background: colors.greyLight,\n      color: colors.greyDark,\n      outline: 0\n    }\n  }\n}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 97\n  },\n  __self: this\n}), jsx(XIcon, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 120\n  },\n  __self: this\n}));\n\nconst Title = props => jsx(\"h2\", _extends({\n  css: {\n    fontSize: fontSizes.md,\n    margin: 0\n  }\n}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 124\n  },\n  __self: this\n}));","map":{"version":3,"sources":["C:/Users/wojtalam/Workspace/Github/arc-keystone5/site/components/Modal.js"],"names":["createPortal","jsx","useKeydown","useLogoDimension","mq","XIcon","HEADER_GUTTER","colors","fontSizes","Modal","props","canUseDOM","isOpen","document","body","ModalElement","children","onClose","title","window","createElement","Dialog","ariaLabel","logoHeight","logoHeightSm","offsetTop","offsetRight","boxShadow","boxSizing","right","top","background","borderRadius","maxWidth","padding","position","zIndex","width","Blanket","bottom","left","Close","border","color","greyMedium","cursor","float","height","lineHeight","transition","verticalAlign","greyLight","greyDark","outline","Title","fontSize","md","margin"],"mappings":"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","sourcesContent":["/** @jsx jsx */\n\nimport { createPortal } from 'react-dom';\nimport { jsx } from '@emotion/core';\n\nimport { useKeydown, useLogoDimension } from '../helpers';\nimport { mq } from '../helpers/media';\nimport { XIcon } from '../primitives';\nimport { HEADER_GUTTER } from './Navbar';\nimport { colors, fontSizes } from '../theme';\n\n// ==============================\n// Exports\n// ==============================\n\nexport const Modal = props => {\n  if (!canUseDOM) return null;\n\n  // the modal element component is separated so the keydown handler attaches\n  // and detaches during mount and unmount respectively.\n  return props.isOpen ? createPortal(<ModalElement {...props} />, document.body) : null;\n};\n\nconst ModalElement = props => {\n  const { children, onClose, title } = props;\n\n  useKeydown('Escape', onClose);\n\n  return (\n    <>\n      <Blanket onClick={onClose} />\n      <Dialog ariaLabel={title}>\n        <Close onClick={onClose} />\n        <Title>{title}</Title>\n        {children}\n      </Dialog>\n    </>\n  );\n};\n\n// ==============================\n// Helpers\n// ==============================\n\nconst canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\n// ==============================\n// Styled Components\n// ==============================\n\nconst Dialog = ({ ariaLabel, ...props }) => {\n  const { logoHeight, logoHeightSm } = useLogoDimension();\n  const offsetTop = [logoHeightSm, logoHeight];\n  const offsetRight = HEADER_GUTTER;\n\n  return (\n    <div\n      aria-label={ariaLabel}\n      role=\"dialog\"\n      tabIndex=\"-1\"\n      css={mq({\n        boxShadow:\n          'rgba(9, 30, 66, 0.08) 0px 0px 0px 1px, rgba(9, 30, 66, 0.08) 0px 2px 1px, rgba(9, 30, 66, 0.31) 0px 0px 20px -6px',\n        boxSizing: 'border-box',\n        right: offsetRight,\n        top: offsetTop,\n        background: 'white',\n        borderRadius: 4,\n        maxWidth: '92vw',\n        padding: 24,\n        position: 'absolute',\n        zIndex: 20,\n        width: 420,\n      })}\n      {...props}\n    />\n  );\n};\nconst Blanket = ({ ariaLabel, ...props }) => (\n  <div\n    css={{\n      bottom: 0,\n      left: 0,\n      position: 'fixed',\n      right: 0,\n      top: 0,\n      zIndex: 10,\n    }}\n    {...props}\n  />\n);\nconst Close = props => (\n  <button\n    css={{\n      background: 0,\n      border: 0,\n      borderRadius: 2,\n      color: colors.greyMedium,\n      cursor: 'pointer',\n      float: 'right',\n      height: 32,\n      lineHeight: 0,\n      padding: 0,\n      transition: 'background-color 150ms, color 150ms',\n      verticalAlign: 'top',\n      width: 32,\n\n      ':hover, :focus': {\n        background: colors.greyLight,\n        color: colors.greyDark,\n        outline: 0,\n      },\n    }}\n    {...props}\n  >\n    <XIcon />\n  </button>\n);\nconst Title = props => (\n  <h2\n    css={{\n      fontSize: fontSizes.md,\n      margin: 0,\n    }}\n    {...props}\n  />\n);\n"]},"metadata":{},"sourceType":"module"}
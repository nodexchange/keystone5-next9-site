{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"C:\\\\Users\\\\wojtalam\\\\Workspace\\\\Github\\\\arc-keystone5\\\\site\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\n/** @jsx jsx */\nimport { Query } from 'react-apollo';\nimport getConfig from 'next/config';\nimport { jsx } from '@emotion/core';\nimport Link from 'next/link';\nimport EventItems from '../components/EventItems';\nimport Navbar from '../components/Navbar';\nimport Footer from '../components/Footer';\nimport Meta from '../components/Meta';\nimport { GET_CURRENT_EVENTS } from '../graphql/events';\nimport { GET_EVENT_RSVPS } from '../graphql/rsvps';\nimport { GET_SPONSORS } from '../graphql/sponsors';\nimport Talks from '../components/Talks';\nimport Rsvp from '../components/Rsvp';\nimport { AvatarStack, Container, Error, Hero, Html, Loading, MicrophoneIcon, PinIcon, UserIcon } from '../primitives';\nimport { H2, H3 } from '../primitives/Typography';\nimport { colors, gridSize, fontSizes } from '../theme';\nimport { isInFuture, formatFutureDate, formatPastDate, getForegroundColor, pluralLabel } from '../helpers';\nimport { mq } from '../helpers/media';\nimport { Component } from 'react';\nconst {\n  publicRuntimeConfig\n} = getConfig(); // Featured Event\n\nconst FeaturedEvent = ({\n  isLoading,\n  error,\n  event\n}) => {\n  if (isLoading && !event) {\n    return jsx(Loading, {\n      isCentered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n  }\n\n  if (error) {\n    console.error('Failed to render the featured event', error);\n    return null;\n  }\n\n  if (!isLoading && !event) {\n    return null;\n  }\n\n  const {\n    description,\n    id,\n    locationAddress,\n    maxRsvps,\n    name,\n    startTime,\n    talks,\n    themeColor\n  } = event;\n  const prettyDate = isInFuture(startTime) ? formatFutureDate(startTime) : formatPastDate(startTime);\n  const hex = themeColor ? themeColor.slice(1) : null;\n  return jsx(Container, {\n    css: {\n      margin: '-7rem auto 0',\n      position: 'relative'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: {\n      boxShadow: '0px 4px 94px rgba(0, 0, 0, 0.15)'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: {\n      backgroundColor: themeColor,\n      color: getForegroundColor(themeColor),\n      display: 'block',\n      padding: '2rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: mq({\n      display: 'flex',\n      flexDirection: ['column', 'row']\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: {\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, jsx(\"p\", {\n    css: {\n      textTransform: 'uppercase',\n      marginTop: 0,\n      fontWeight: 500,\n      marginBottom: gridSize\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, prettyDate), jsx(Link, {\n    href: `/event/[id]?hex=${hex}`,\n    as: `/event/${id}?hex=${hex}`,\n    passHref: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, jsx(\"a\", {\n    css: {\n      color: 'inherit',\n      textDecoration: 'none',\n      ':hover': {\n        textDecoration: 'underline'\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, jsx(H3, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, name)))), jsx(\"p\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      fontWeight: 300\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, jsx(PinIcon, {\n    css: {\n      marginRight: '0.5em'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), locationAddress)), jsx(Html, {\n    markup: description,\n    css: mq({\n      flex: 1,\n      padding: [0, '0 2rem'],\n      p: {\n        '&:first-of-type': {\n          marginTop: 0\n        },\n        '&:last-of-type': {\n          marginBottom: 0\n        }\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }))), jsx(\"div\", {\n    css: {\n      padding: '1.5rem',\n      background: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: mq({\n      alignItems: 'center',\n      display: 'flex',\n      flexDirection: ['column', 'row'],\n      justifyContent: 'space-between'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, jsx(Rsvp, {\n    event: event,\n    themeColor: themeColor,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, ({\n    message,\n    component\n  }) => component || message), jsx(\"div\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      flex: 1,\n      justifyContent: 'flex-end'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      fontWeight: 300,\n      padding: '0 1rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, jsx(MicrophoneIcon, {\n    color: \"#ccc\",\n    css: {\n      marginRight: '0.5em'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), pluralLabel(talks.length, 'talk', 'talks')), jsx(Query, {\n    query: GET_EVENT_RSVPS,\n    variables: {\n      event: id\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, ({\n    data,\n    loading,\n    error\n  }) => {\n    if (loading && !data) return jsx(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    });\n    if (error) return jsx(Error, {\n      error: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    });\n    const {\n      allRsvps\n    } = data;\n    if (!allRsvps) return null;\n    const attending = `${allRsvps.length}${maxRsvps ? `/${maxRsvps}` : ''}`;\n    return jsx(React.Fragment, null, jsx(\"div\", {\n      css: {\n        alignItems: 'center',\n        display: 'flex',\n        fontWeight: 300,\n        padding: '0 1rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, jsx(UserIcon, {\n      color: \"#ccc\",\n      css: {\n        marginRight: '0.5em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), attending, \" \", isInFuture(startTime) ? 'attending' : 'attended'), jsx(AvatarStack, {\n      users: allRsvps.filter(rsvp => rsvp.user).map(rsvp => rsvp.user),\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }));\n  }))))));\n};\n\nconst Sponsors = () => {\n  return jsx(Container, {\n    css: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, jsx(H3, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Our sponsors\"), jsx(Query, {\n    query: GET_SPONSORS,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, ({\n    data,\n    loading,\n    error\n  }) => {\n    if (loading) return jsx(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    });\n    if (error) return jsx(Error, {\n      error: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    });\n    const {\n      allSponsors\n    } = data;\n    return jsx(\"ul\", {\n      css: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        listStyle: 'none',\n        padding: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, allSponsors.map(sponsor => jsx(\"li\", {\n      key: sponsor.id,\n      css: {\n        flex: 1,\n        margin: 12\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, jsx(\"a\", {\n      href: sponsor.website,\n      target: \"_blank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, sponsor.logo ? jsx(\"img\", {\n      alt: sponsor.name,\n      css: {\n        maxWidth: '100%',\n        maxHeight: 140\n      },\n      src: sponsor.logo.publicUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }) : sponsor.name))));\n  }));\n};\n\nfunction processEventsData(data) {\n  if (!data || !data.upcomingEvents || !data.previousEvents) {\n    return {\n      featuredEvent: null,\n      moreEvents: []\n    };\n  }\n\n  const upcomingEvents = data.upcomingEvents.slice();\n  const previousEvents = data.previousEvents.slice();\n  const featuredEvent = upcomingEvents.length ? upcomingEvents.pop() : previousEvents.pop() || null;\n  const moreEvents = [];\n\n  for (let i = 0; i < 3; i++) {\n    if (upcomingEvents.length) {\n      moreEvents.push(upcomingEvents.pop());\n    } else if (previousEvents.length) {\n      moreEvents.push(previousEvents.pop());\n    }\n  }\n\n  return {\n    featuredEvent,\n    moreEvents\n  };\n}\n\nexport default class Home extends Component {\n  static getInitialProps() {\n    return {\n      now: new Date().toISOString()\n    };\n  }\n\n  render() {\n    const now = this.props.now;\n    const {\n      meetup\n    } = publicRuntimeConfig;\n    return jsx(Query, {\n      query: GET_CURRENT_EVENTS,\n      variables: {\n        now\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, ({\n      data: eventsData,\n      loading: eventsLoading,\n      error: eventsError\n    }) => {\n      const {\n        featuredEvent,\n        moreEvents\n      } = processEventsData(eventsData);\n      return jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, jsx(Meta, {\n        titleExclusive: meetup.name,\n        description: meetup.intro,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }), jsx(Navbar, {\n        background: colors.greyDark,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }), jsx(Hero, {\n        title: meetup.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, jsx(Html, {\n        markup: meetup.homeIntro,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      })), jsx(FeaturedEvent, {\n        isLoading: eventsLoading,\n        error: eventsError,\n        event: featuredEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }), jsx(Container, {\n        css: {\n          marginTop: '3rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, featuredEvent && featuredEvent.talks ? jsx(Talks, {\n        talks: featuredEvent.talks,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }) : null), jsx(Section, {\n        css: {\n          padding: '3rem 0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, jsx(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, jsx(Sponsors, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }))), moreEvents.length ? jsx(React.Fragment, null, jsx(Section, {\n        css: {\n          backgroundColor: colors.greyLight,\n          margin: '5rem 0',\n          paddingTop: '5rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, jsx(Slant, {\n        placement: \"top\",\n        fill: colors.greyLight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }), jsx(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, jsx(H2, {\n        hasSeparator: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, \"More Meetups\"), jsx(EventItems, {\n        events: moreEvents,\n        offsetTop: true,\n        css: {\n          marginTop: '3rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }), jsx(Link, {\n        href: \"/events\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, jsx(\"a\", {\n        css: {\n          color: 'black',\n          cursor: 'pointer',\n          fontSize: fontSizes.md,\n          marginTop: '1rem',\n          ':hover > span': {\n            textDecoration: 'underline'\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, \"View all\"), \" \\u2192\"))), jsx(Slant, {\n        placement: \"bottom\",\n        fill: colors.greyLight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }))) : null, jsx(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }));\n    });\n  }\n\n} // styled components\n\nconst Section = props => jsx(\"section\", _extends({\n  css: {\n    position: 'relative'\n  }\n}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 340\n  },\n  __self: this\n}));\n\nconst Slant = ({\n  fill,\n  height = 5,\n  placement\n}) => {\n  const points = placement === 'bottom' ? '0, 100 0, 0 100, 0' : '0 100, 100 0, 100, 100';\n  return jsx(\"svg\", {\n    css: {\n      height: `${height}vw`,\n      width: '100vw',\n      display: 'block',\n      position: 'absolute',\n      [placement]: `-${height}vw`\n    },\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351\n    },\n    __self: this\n  }, jsx(\"polygon\", {\n    fill: fill,\n    points: points,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["C:/Users/wojtalam/Workspace/Github/arc-keystone5/site/pages/index.js"],"names":["Query","getConfig","jsx","Link","EventItems","Navbar","Footer","Meta","GET_CURRENT_EVENTS","GET_EVENT_RSVPS","GET_SPONSORS","Talks","Rsvp","AvatarStack","Container","Error","Hero","Html","Loading","MicrophoneIcon","PinIcon","UserIcon","H2","H3","colors","gridSize","fontSizes","isInFuture","formatFutureDate","formatPastDate","getForegroundColor","pluralLabel","mq","Component","publicRuntimeConfig","FeaturedEvent","isLoading","error","event","console","description","id","locationAddress","maxRsvps","name","startTime","talks","themeColor","prettyDate","hex","slice","margin","position","boxShadow","backgroundColor","color","display","padding","flexDirection","flex","justifyContent","textTransform","marginTop","fontWeight","marginBottom","textDecoration","alignItems","marginRight","p","background","message","component","length","data","loading","allRsvps","attending","filter","rsvp","user","map","Sponsors","textAlign","allSponsors","listStyle","sponsor","website","logo","maxWidth","maxHeight","publicUrl","processEventsData","upcomingEvents","previousEvents","featuredEvent","moreEvents","pop","i","push","Home","getInitialProps","now","Date","toISOString","render","props","meetup","eventsData","eventsLoading","eventsError","intro","greyDark","homeIntro","greyLight","paddingTop","cursor","fontSize","md","Section","Slant","fill","height","placement","points","width"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport { Query } from 'react-apollo';\nimport getConfig from 'next/config';\nimport { jsx } from '@emotion/core';\n\nimport Link from 'next/link';\nimport EventItems from '../components/EventItems';\nimport Navbar from '../components/Navbar';\nimport Footer from '../components/Footer';\nimport Meta from '../components/Meta';\nimport { GET_CURRENT_EVENTS } from '../graphql/events';\nimport { GET_EVENT_RSVPS } from '../graphql/rsvps';\nimport { GET_SPONSORS } from '../graphql/sponsors';\n\nimport Talks from '../components/Talks';\nimport Rsvp from '../components/Rsvp';\nimport {\n  AvatarStack,\n  Container,\n  Error,\n  Hero,\n  Html,\n  Loading,\n  MicrophoneIcon,\n  PinIcon,\n  UserIcon,\n} from '../primitives';\nimport { H2, H3 } from '../primitives/Typography';\nimport { colors, gridSize, fontSizes } from '../theme';\nimport {\n  isInFuture,\n  formatFutureDate,\n  formatPastDate,\n  getForegroundColor,\n  pluralLabel,\n} from '../helpers';\nimport { mq } from '../helpers/media';\nimport { Component } from 'react';\n\nconst { publicRuntimeConfig } = getConfig();\n\n// Featured Event\nconst FeaturedEvent = ({ isLoading, error, event }) => {\n  if (isLoading && !event) {\n    return <Loading isCentered />;\n  }\n  if (error) {\n    console.error('Failed to render the featured event', error);\n    return null;\n  }\n  if (!isLoading && !event) {\n    return null;\n  }\n\n  const { description, id, locationAddress, maxRsvps, name, startTime, talks, themeColor } = event;\n  const prettyDate = isInFuture(startTime)\n    ? formatFutureDate(startTime)\n    : formatPastDate(startTime);\n\n  const hex = themeColor ? themeColor.slice(1) : null;\n\n  return (\n    <Container css={{ margin: '-7rem auto 0', position: 'relative' }}>\n      <div css={{ boxShadow: '0px 4px 94px rgba(0, 0, 0, 0.15)' }}>\n        <div\n          css={{\n            backgroundColor: themeColor,\n            color: getForegroundColor(themeColor),\n            display: 'block',\n            padding: '2rem',\n          }}\n        >\n          <div css={mq({ display: 'flex', flexDirection: ['column', 'row'] })}>\n            <div\n              css={{\n                flex: 1,\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'space-between',\n              }}\n            >\n              <div>\n                <p\n                  css={{\n                    textTransform: 'uppercase',\n                    marginTop: 0,\n                    fontWeight: 500,\n                    marginBottom: gridSize,\n                  }}\n                >\n                  {prettyDate}\n                </p>\n                <Link href={`/event/[id]?hex=${hex}`} as={`/event/${id}?hex=${hex}`} passHref>\n                  <a\n                    css={{\n                      color: 'inherit',\n                      textDecoration: 'none',\n                      ':hover': { textDecoration: 'underline' },\n                    }}\n                  >\n                    <H3>{name}</H3>\n                  </a>\n                </Link>\n              </div>\n              <p css={{ alignItems: 'center', display: 'flex', fontWeight: 300 }}>\n                <PinIcon css={{ marginRight: '0.5em' }} />\n                {locationAddress}\n              </p>\n            </div>\n            <Html\n              markup={description}\n              css={mq({\n                flex: 1,\n                padding: [0, '0 2rem'],\n\n                p: {\n                  '&:first-of-type': { marginTop: 0 },\n                  '&:last-of-type': { marginBottom: 0 },\n                },\n              })}\n            />\n          </div>\n        </div>\n        <div css={{ padding: '1.5rem', background: 'white' }}>\n          <div\n            css={mq({\n              alignItems: 'center',\n              display: 'flex',\n              flexDirection: ['column', 'row'],\n              justifyContent: 'space-between',\n            })}\n          >\n            <Rsvp event={event} themeColor={themeColor}>\n              {({ message, component }) => component || message}\n            </Rsvp>\n            <div\n              css={{\n                alignItems: 'center',\n                display: 'flex',\n                flex: 1,\n                justifyContent: 'flex-end',\n              }}\n            >\n              <div\n                css={{ alignItems: 'center', display: 'flex', fontWeight: 300, padding: '0 1rem' }}\n              >\n                <MicrophoneIcon color=\"#ccc\" css={{ marginRight: '0.5em' }} />\n                {pluralLabel(talks.length, 'talk', 'talks')}\n              </div>\n              <Query query={GET_EVENT_RSVPS} variables={{ event: id }}>\n                {({ data, loading, error }) => {\n                  if (loading && !data) return <Loading />;\n                  if (error) return <Error error={error} />;\n\n                  const { allRsvps } = data;\n\n                  if (!allRsvps) return null;\n\n                  const attending = `${allRsvps.length}${maxRsvps ? `/${maxRsvps}` : ''}`;\n\n                  return (\n                    <>\n                      <div\n                        css={{\n                          alignItems: 'center',\n                          display: 'flex',\n                          fontWeight: 300,\n                          padding: '0 1rem',\n                        }}\n                      >\n                        <UserIcon color=\"#ccc\" css={{ marginRight: '0.5em' }} />\n                        {attending} {isInFuture(startTime) ? 'attending' : 'attended'}\n                      </div>\n                      <AvatarStack\n                        users={allRsvps.filter(rsvp => rsvp.user).map(rsvp => rsvp.user)}\n                        size=\"small\"\n                      />\n                    </>\n                  );\n                }}\n              </Query>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nconst Sponsors = () => {\n  return (\n    <Container css={{ textAlign: 'center' }}>\n      <H3>Our sponsors</H3>\n      <Query query={GET_SPONSORS}>\n        {({ data, loading, error }) => {\n          if (loading) return <Loading />;\n          if (error) return <Error error={error} />;\n\n          const { allSponsors } = data;\n          return (\n            <ul\n              css={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                listStyle: 'none',\n                padding: 0,\n              }}\n            >\n              {allSponsors.map(sponsor => (\n                <li key={sponsor.id} css={{ flex: 1, margin: 12 }}>\n                  <a href={sponsor.website} target=\"_blank\">\n                    {sponsor.logo ? (\n                      <img\n                        alt={sponsor.name}\n                        css={{ maxWidth: '100%', maxHeight: 140 }}\n                        src={sponsor.logo.publicUrl}\n                      />\n                    ) : (\n                      sponsor.name\n                    )}\n                  </a>\n                </li>\n              ))}\n            </ul>\n          );\n        }}\n      </Query>\n    </Container>\n  );\n};\n\nfunction processEventsData(data) {\n  if (!data || !data.upcomingEvents || !data.previousEvents) {\n    return {\n      featuredEvent: null,\n      moreEvents: [],\n    };\n  }\n\n  const upcomingEvents = data.upcomingEvents.slice();\n  const previousEvents = data.previousEvents.slice();\n\n  const featuredEvent = upcomingEvents.length ? upcomingEvents.pop() : previousEvents.pop() || null;\n  const moreEvents = [];\n\n  for (let i = 0; i < 3; i++) {\n    if (upcomingEvents.length) {\n      moreEvents.push(upcomingEvents.pop());\n    } else if (previousEvents.length) {\n      moreEvents.push(previousEvents.pop());\n    }\n  }\n\n  return {\n    featuredEvent,\n    moreEvents,\n  };\n}\n\nexport default class Home extends Component {\n  static getInitialProps() {\n    return {\n      now: new Date().toISOString(),\n    };\n  }\n\n  render() {\n    const now = this.props.now;\n    const { meetup } = publicRuntimeConfig;\n\n    return (\n      <Query query={GET_CURRENT_EVENTS} variables={{ now }}>\n        {({ data: eventsData, loading: eventsLoading, error: eventsError }) => {\n          const { featuredEvent, moreEvents } = processEventsData(eventsData);\n          return (\n            <div>\n              <Meta titleExclusive={meetup.name} description={meetup.intro} />\n              <Navbar background={colors.greyDark} />\n              <Hero title={meetup.name}>\n                <Html markup={meetup.homeIntro} />\n              </Hero>\n              <FeaturedEvent isLoading={eventsLoading} error={eventsError} event={featuredEvent} />\n              <Container css={{ marginTop: '3rem' }}>\n                {featuredEvent && featuredEvent.talks ? (\n                  <Talks talks={featuredEvent.talks} />\n                ) : null}\n              </Container>\n              <Section css={{ padding: '3rem 0' }}>\n                <Container>\n                  <Sponsors />\n                </Container>\n              </Section>\n              {moreEvents.length ? (\n                <>\n                  <Section\n                    css={{\n                      backgroundColor: colors.greyLight,\n                      margin: '5rem 0',\n                      paddingTop: '5rem',\n                    }}\n                  >\n                    <Slant placement=\"top\" fill={colors.greyLight} />\n                    <Container>\n                      <H2 hasSeparator>More Meetups</H2>\n                      <EventItems events={moreEvents} offsetTop css={{ marginTop: '3rem' }} />\n                      <Link href=\"/events\">\n                        <a\n                          css={{\n                            color: 'black',\n                            cursor: 'pointer',\n                            fontSize: fontSizes.md,\n                            marginTop: '1rem',\n\n                            ':hover > span': {\n                              textDecoration: 'underline',\n                            },\n                          }}\n                        >\n                          <span>View all</span> &rarr;\n                        </a>\n                      </Link>\n                    </Container>\n                    <Slant placement=\"bottom\" fill={colors.greyLight} />\n                  </Section>\n                </>\n              ) : null}\n              <Footer />\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n\n// styled components\n\nconst Section = props => (\n  <section\n    css={{\n      position: 'relative',\n    }}\n    {...props}\n  />\n);\nconst Slant = ({ fill, height = 5, placement }) => {\n  const points = placement === 'bottom' ? '0, 100 0, 0 100, 0' : '0 100, 100 0, 100, 100';\n\n  return (\n    <svg\n      css={{\n        height: `${height}vw`,\n        width: '100vw',\n        display: 'block',\n        position: 'absolute',\n        [placement]: `-${height}vw`,\n      }}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 100 100\"\n      preserveAspectRatio=\"none\"\n    >\n      <polygon fill={fill} points={points} />\n    </svg>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}